"use strict";(self.webpackChunkpruebas=self.webpackChunkpruebas||[]).push([[623],{6623:(mt,h,a)=>{a.r(h),a.d(h,{ProductoModule:()=>ct});var d=a(8583),p=a(4655),m=a(2789),g=a(4457),r=a(3679),Z=a(5868);class T{}var C=a(5385),P=a(2340),t=a(7716),U=a(1729),q=a(9866),S=a(9344),y=a(6095),Y=a(6223),I=a(5540),v=a(5618),l=a(8295),_=a(9983),A=a(8654),x=a(7441),b=a(1095),j=a(2458),N=a(6627);function D(o,i){if(1&o&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.codigo),t.xp6(1),t.hij(" ",e.nombre," ")}}function E(o,i){if(1&o&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.codigo),t.xp6(1),t.hij(" ",e.nombre," ")}}function Q(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().onEliminar()}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA()}}function J(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Codigo "),t.qZA())}function w(o,i){if(1&o&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.codigo," ")}}function M(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Producto "),t.qZA())}function B(o,i){if(1&o&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.nombre," ")}}function k(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Descripcion "),t.qZA())}function F(o,i){if(1&o&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.descripcion," ")}}function $(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Imagen "),t.qZA())}function z(o,i){if(1&o&&(t.TgZ(0,"td",39),t.TgZ(1,"div",40),t.TgZ(2,"a",41),t._uU(3,"Ver Imagen "),t.qZA(),t.qZA(),t.qZA()),2&o){const e=i.$implicit;t.xp6(2),t.MGl("href","http://localhost:8181/api/producto/imagen/",e.codigo,"",t.LSH)}}function R(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Precio "),t.qZA())}function H(o,i){if(1&o&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" $",e.precio," ")}}function O(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Referencia "),t.qZA())}function V(o,i){if(1&o&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.referencia," ")}}function G(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Categoria "),t.qZA())}function L(o,i){if(1&o&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.categoria.nombre," ")}}function W(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Estado "),t.qZA())}function X(o,i){if(1&o&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.estado.nombre," ")}}function K(o,i){1&o&&(t.TgZ(0,"th",38),t._uU(1," Editar "),t.qZA())}function tt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",39),t.TgZ(1,"div",40),t.TgZ(2,"button",42),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().onEditarClick(s)}),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function et(o,i){1&o&&t._UZ(0,"tr",43)}function ot(o,i){1&o&&t._UZ(0,"tr",44)}const it=function(){return[5,10,20]},nt=[{path:"",component:(()=>{class o{constructor(e,n,c,s,u,f,st){this.fb=e,this.estudianteService=n,this.spinner=c,this.toastr=s,this.estadoService=u,this.categoriaService=f,this.rutaService=st,this.color="primary",this.multiple=!1,this.urlImagen=`${P.N.apiUrl}/producto/imagen`,this.editar=!1,this.mensajeSatisfactorio="Satisfactorio",this.displayedColumns=["codigo","producto","descripcion","imagen","precio","referencia","categoria","estado","editar"],this.dataSource=new m.by([]),this.rutaService.banner.emit(!1)}ngOnInit(){this.initForm(),this.buscar(),this.listarEstado(),this.listarCategoria()}initForm(){this.form=this.fb.group({nombre:new r.NI("",r.kI.required),estado:new r.NI("",r.kI.required),descripcion:new r.NI("",r.kI.required),imagen:new r.NI("",r.kI.required),precio:new r.NI("",r.kI.required),referencia:new r.NI("",r.kI.required),categoria:new r.NI("",r.kI.required),codigo:new r.NI("")})}clickEnviar(){let s,e=new T,n=new Z.G,c=new C.E;this.spinner.show(),e.codigo=this.form.get("codigo").value,e.nombre=this.form.get("nombre").value,e.descripcion=this.form.get("descripcion").value,null!=this.file&&(console.log("no esta nulo"),s=this.file.item(0)),e.precio=this.form.get("precio").value,e.referencia=this.form.get("referencia").value,c.codigo=this.form.get("categoria").value,e.categoria=c,n.codigo=this.form.get("estado").value,e.estado=n,console.log(e),this.editar?this.actualizar(s,e):null!=s?(console.log("se supone que llego la imagen"),this.registrar(s,e)):(console.log("se supone que no llego la imagen"),this.actualizarSinImagen(e))}onCancelar(){this.form.reset(),this.editar=!1}onEliminar(){let e=new T,n=new Z.G,c=new C.E;this.spinner.show(),e.codigo=this.form.get("codigo").value,e.nombre=this.form.get("nombre").value,e.descripcion=this.form.get("descripcion").value,e.precio=this.form.get("precio").value,e.referencia=this.form.get("referencia").value,c.codigo=this.form.get("categoria").value,e.categoria=c,n.codigo=this.form.get("estado").value,e.estado=n,this.spinner.show(),this.estudianteService.eliminar(e).subscribe(s=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.editar=!1,this.buscar()},s=>this.mensajeError(s))}registrar(e,n){this.estudianteService.crear(e,n).subscribe(c=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.buscar()},c=>this.mensajeError(c))}actualizar(e,n){this.estudianteService.editar(e,n).subscribe(c=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.buscar()},c=>this.mensajeError(c))}actualizarSinImagen(e){this.estudianteService.editarSinImagen(e).subscribe(n=>{this.spinner.hide(),this.toastr.success(this.mensajeSatisfactorio),this.form.reset(),this.buscar()},n=>this.mensajeError(n))}buscar(){this.estudianteService.buscarAdmin().subscribe(e=>{this.dataSource=new m.by(e),this.paginator.firstPage(),this.dataSource.paginator=this.paginator})}mensajeError(e){this.spinner.hide(),console.log(e),this.toastr.error("Ha ocurrido un problema ")}listarEstado(){this.estadoService.buscarTodo().subscribe(e=>{this.lstEstCodigo=e})}onEditarClick(e){this.editar=!0,this.form.get("codigo").setValue(e.codigo),this.form.get("estado").setValue(e.estado.codigo),this.form.get("nombre").setValue(e.nombre),this.form.get("descripcion").setValue(e.descripcion),this.form.get("precio").setValue(e.precio),this.form.get("referencia").setValue(e.referencia),this.form.get("categoria").setValue(e.categoria.codigo),this.form.get("imagen").setValue(e.imagen),this.estudiante=e.codigo}listarCategoria(){this.categoriaService.buscarAdmin().subscribe(e=>{this.lstCatCodigo=e})}change(e){this.file=e,this.toastr.success("Archivo Subido")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(U.U),t.Y36(q.t2),t.Y36(S._W),t.Y36(y.s),t.Y36(Y.n),t.Y36(I.z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-producto"]],viewQuery:function(e,n){if(1&e&&t.Gf(g.NW,5),2&e){let c;t.iGM(c=t.CRH())&&(n.paginator=c.first)}},decls:86,vars:14,consts:[[2,"margin-top","10%"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","space-evenly center"],["matInput","","formControlName","nombre","maxlength","45","placeholder","Name"],["message",""],["align","end"],["matInput","","formControlName","descripcion","maxlength","200","placeholder","Descripcion"],["message2",""],["type","file","formControlName","imagen",3,"change"],["matInput","","formControlName","precio","maxlength","45","placeholder","Precio"],["message3",""],["matInput","","formControlName","referencia","maxlength","200","placeholder","Referencia"],["message4",""],["formControlName","categoria"],[3,"value",4,"ngFor","ngForOf"],["formControlName","estado"],["fxLayout","row","fxLayoutAlign","center center"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","",3,"click"],["class","boton",3,"click",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","producto"],["matColumnDef","descripcion"],["matColumnDef","imagen"],["matColumnDef","precio"],["matColumnDef","referencia"],["matColumnDef","categoria"],["matColumnDef","estado"],["matColumnDef","editar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"value"],[1,"boton",3,"click"],["mat-header-cell",""],["mat-cell",""],[1,"example-button-container"],["target","blank",3,"href"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t._UZ(2,"br"),t.TgZ(3,"div",2),t.TgZ(4,"mat-form-field"),t.TgZ(5,"mat-label"),t._uU(6,"Nombre"),t.qZA(),t._UZ(7,"input",3,4),t.TgZ(9,"mat-hint",5),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"mat-form-field"),t.TgZ(12,"mat-label"),t._uU(13,"Descripci\xf3n"),t.qZA(),t._UZ(14,"input",6,7),t.TgZ(16,"mat-hint",5),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"mat-form-field"),t.TgZ(19,"mat-label"),t._uU(20,"Imagen"),t.qZA(),t.TgZ(21,"ngx-mat-file-input",8),t.NdJ("change",function(s){return n.change(s.target.files)}),t.qZA(),t.qZA(),t.TgZ(22,"mat-form-field"),t.TgZ(23,"mat-label"),t._uU(24,"Precio"),t.qZA(),t._UZ(25,"input",9,10),t.TgZ(27,"mat-hint",5),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"mat-form-field"),t.TgZ(30,"mat-label"),t._uU(31,"Referencia"),t.qZA(),t._UZ(32,"input",11,12),t.TgZ(34,"mat-hint",5),t._uU(35),t.qZA(),t.qZA(),t.TgZ(36,"mat-form-field"),t.TgZ(37,"mat-label"),t._uU(38,"Categoria"),t.qZA(),t.TgZ(39,"mat-select",13),t.YNc(40,D,2,2,"mat-option",14),t.qZA(),t.qZA(),t.TgZ(41,"mat-form-field"),t.TgZ(42,"mat-label"),t._uU(43,"Estado"),t.qZA(),t.TgZ(44,"mat-select",15),t.YNc(45,E,2,2,"mat-option",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",16),t.TgZ(47,"button",17),t.NdJ("click",function(){return n.clickEnviar()}),t._uU(48," Enviar "),t.qZA(),t.TgZ(49,"button",18),t.NdJ("click",function(){return n.onCancelar()}),t._uU(50," Cancelar "),t.qZA(),t.YNc(51,Q,3,0,"button",19),t.qZA(),t.qZA(),t._UZ(52,"br"),t._UZ(53,"br"),t.qZA(),t.TgZ(54,"div",20),t.TgZ(55,"table",21),t.ynx(56,22),t.YNc(57,J,2,0,"th",23),t.YNc(58,w,2,1,"td",24),t.BQk(),t.ynx(59,25),t.YNc(60,M,2,0,"th",23),t.YNc(61,B,2,1,"td",24),t.BQk(),t.ynx(62,26),t.YNc(63,k,2,0,"th",23),t.YNc(64,F,2,1,"td",24),t.BQk(),t.ynx(65,27),t.YNc(66,$,2,0,"th",23),t.YNc(67,z,4,1,"td",24),t.BQk(),t.ynx(68,28),t.YNc(69,R,2,0,"th",23),t.YNc(70,H,2,1,"td",24),t.BQk(),t.ynx(71,29),t.YNc(72,O,2,0,"th",23),t.YNc(73,V,2,1,"td",24),t.BQk(),t.ynx(74,30),t.YNc(75,G,2,0,"th",23),t.YNc(76,L,2,1,"td",24),t.BQk(),t.ynx(77,31),t.YNc(78,W,2,0,"th",23),t.YNc(79,X,2,1,"td",24),t.BQk(),t.ynx(80,32),t.YNc(81,K,2,0,"th",23),t.YNc(82,tt,5,0,"td",24),t.BQk(),t.YNc(83,et,1,0,"tr",33),t.YNc(84,ot,1,0,"tr",34),t.qZA(),t._UZ(85,"mat-paginator",35),t.qZA()),2&e){const c=t.MAs(8),s=t.MAs(15),u=t.MAs(26),f=t.MAs(33);t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(9),t.hij("",c.value.length," / 45"),t.xp6(7),t.hij("",s.value.length," / 45"),t.xp6(11),t.hij("",u.value.length," / 45"),t.xp6(7),t.hij("",f.value.length," / 45"),t.xp6(5),t.Q6J("ngForOf",n.lstCatCodigo),t.xp6(5),t.Q6J("ngForOf",n.lstEstCodigo),t.xp6(2),t.Q6J("disabled",!n.form.valid),t.xp6(4),t.Q6J("ngIf",n.editar),t.xp6(4),t.Q6J("dataSource",n.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(13,it))}},directives:[r._Y,r.JL,r.sg,v.xw,v.Wh,l.KE,l.hX,_.Nt,r.Fj,r.JJ,r.u,r.nD,l.bx,A.Yh,x.gD,d.sg,b.lW,d.O5,m.BZ,m.w1,m.fO,m.Dz,m.as,m.nj,g.NW,j.ey,N.Hw,m.ge,m.ev,m.XQ,m.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),o})()}];let at=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(nt)],p.Bz]}),o})();var rt=a(3356);let ct=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,at,rt.o9,r.UX,_.c,l.lN,b.ot,N.Ps,x.LD,m.p0,g.TU,A.Ad]]}),o})()}}]);